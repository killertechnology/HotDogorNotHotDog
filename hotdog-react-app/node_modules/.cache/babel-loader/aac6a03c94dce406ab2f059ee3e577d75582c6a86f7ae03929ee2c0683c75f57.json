{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import axios from'axios';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export default function HotDogPage(){const[selectedFile,setSelectedFile]=useState(null);const[previewUrl,setPreviewUrl]=useState(null);const[result,setResult]=useState(null);const[isLoading,setIsLoading]=useState(false);const handleFileChange=event=>{const file=event.target.files[0];setSelectedFile(file);setPreviewUrl(URL.createObjectURL(file));setResult(null);};const handleDetectClick=async()=>{if(!selectedFile)return;setIsLoading(true);const formData=new FormData();formData.append('image',selectedFile);try{const res=await axios.post('https://api.flex-ai.com/hotdog/detect',formData);setResult(res.data.result);}catch(error){console.error(error);}finally{setIsLoading(false);}};const predefinedImages=[{label:\"Hot Dog\",src:\"/images/hotdog.jpg\"},{label:\"Banana\",src:\"/images/banana.jpg\"},{label:\"Car\",src:\"/images/car.jpg\"},{label:\"Elephant\",src:\"/images/elephant.jpg\"}];const handlePredefinedClick=imagePath=>{fetch(imagePath).then(res=>res.blob()).then(blob=>{const file=new File([blob],imagePath.split('/').pop(),{type:blob.type});setSelectedFile(file);setPreviewUrl(URL.createObjectURL(blob));setResult(null);});};// Play sound when result is updated\nuseEffect(()=>{if(result===\"Hot Dog\"){const dingSound=new Audio('/sounds/ding.mp3');dingSound.play();}else if(result===\"Not Hot Dog\"){const buzzerSound=new Audio('/sounds/buzzer.mp3');buzzerSound.play();}},[result]);return/*#__PURE__*/_jsxs(\"div\",{className:\"hotdogpage\",children:[/*#__PURE__*/_jsx(\"table\",{border:0,align:\"center\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{className:\"container\",children:previewUrl&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{align:\"center\",src:previewUrl,alt:\"Preview\",className:\"my-4-selected object-contain\",style:{maxWidth:'450px',paddingBottom:'10px'}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDetectClick,className:\"bubbly-button\",children:\"Hot Dog or Not Hot Dog??\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overlay\",children:result===\"Hot Dog\"?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/checkmark.png\",alt:\"Definitely a Hot Dog\"}),/*#__PURE__*/_jsx(\"div\",{className:\"result-hotdog\",children:\"Hot Dog!!!\"})]}):result===\"Not Hot Dog\"?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/redx.png\",alt:\"Sorry, not a Hot Dog\"}),/*#__PURE__*/_jsx(\"div\",{className:\"result-nothotdog\",children:\"Not Hot Dog!\"})]}):null})]})})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Choose an Image!\"})})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center gap-4 mt-6\",children:predefinedImages.map(img=>/*#__PURE__*/_jsx(\"img\",{src:img.src,alt:img.label,className:\"mythumbs h-[100px] object-cover cursor-pointer\",onClick:()=>handlePredefinedClick(img.src)},img.label))})})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Or try your own!\"})})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleFileChange,className:\"mb-4\"}),\"\\xA0\"]})})]})}),isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"centered-overlay\",children:/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",style:{width:'32px',height:'32px',animation:'spin 1s linear infinite'},children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\",style:{opacity:0.85}}),/*#__PURE__*/_jsx(\"path\",{fill:\"currentColor\",d:\"M4 12a8 8 0 018-8v8H4z\",style:{opacity:0.95}})]})}),/*#__PURE__*/_jsx(\"style\",{children:`\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      `})]});}","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","HotDogPage","selectedFile","setSelectedFile","previewUrl","setPreviewUrl","result","setResult","isLoading","setIsLoading","handleFileChange","event","file","target","files","URL","createObjectURL","handleDetectClick","formData","FormData","append","res","post","data","error","console","predefinedImages","label","src","handlePredefinedClick","imagePath","fetch","then","blob","File","split","pop","type","dingSound","Audio","play","buzzerSound","className","children","border","align","alt","style","maxWidth","paddingBottom","onClick","map","img","onChange","xmlns","fill","viewBox","width","height","animation","cx","cy","r","stroke","strokeWidth","opacity","d"],"sources":["/Users/kfessler/Documents/GitHub/hotdog-nothotdog/hotdog-react-app/src/components/HotDogPage.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\n\nexport default function HotDogPage() {\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [previewUrl, setPreviewUrl] = useState(null);\n  const [result, setResult] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleFileChange = (event) => {\n    const file = event.target.files[0];\n    setSelectedFile(file);\n    setPreviewUrl(URL.createObjectURL(file));\n    setResult(null);\n  };\n\n  const handleDetectClick = async () => {\n    if (!selectedFile) return;\n    setIsLoading(true);\n    const formData = new FormData();\n    formData.append('image', selectedFile);\n\n    try {\n      const res = await axios.post('https://api.flex-ai.com/hotdog/detect', formData);\n      setResult(res.data.result);\n    } catch (error) {\n      console.error(error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const predefinedImages = [\n    { label: \"Hot Dog\", src: \"/images/hotdog.jpg\" },\n    { label: \"Banana\", src: \"/images/banana.jpg\" },\n    { label: \"Car\", src: \"/images/car.jpg\" },\n    { label: \"Elephant\", src: \"/images/elephant.jpg\" },\n  ];\n\n  const handlePredefinedClick = (imagePath) => {\n    fetch(imagePath)\n      .then((res) => res.blob())\n      .then((blob) => {\n        const file = new File([blob], imagePath.split('/').pop(), { type: blob.type });\n        setSelectedFile(file);\n        setPreviewUrl(URL.createObjectURL(blob));\n        setResult(null);\n      });\n  };\n\n  // Play sound when result is updated\n  useEffect(() => {\n    if (result === \"Hot Dog\") {\n      const dingSound = new Audio('/sounds/ding.mp3');\n      dingSound.play();\n    } else if (result === \"Not Hot Dog\") {\n      const buzzerSound = new Audio('/sounds/buzzer.mp3');\n      buzzerSound.play();\n    }\n  }, [result]);\n  \n  return (\n    <div className='hotdogpage'>\n      <table border={0} align='center'>\n        <tbody>\n          <tr>\n            <td className=\"container\">\n              {previewUrl && (\n                <div>\n                  <img\n                    align='center'\n                    src={previewUrl}\n                    alt=\"Preview\"\n                    className=\"my-4-selected object-contain\"\n                    style={{ maxWidth: '450px',paddingBottom: '10px' }}\n                  /><br />\n                  <button\n                    onClick={handleDetectClick}\n                    className=\"bubbly-button\"\n                  >\n                    Hot Dog or Not Hot Dog??\n                  </button>\n                  <div className=\"overlay\">\n                    {result === \"Hot Dog\" ? (\n                      <>\n                        <img src=\"/images/checkmark.png\" alt=\"Definitely a Hot Dog\" />\n                        <div className=\"result-hotdog\">Hot Dog!!!</div>\n                      </>\n                    ) : result === \"Not Hot Dog\" ? (\n                      <>\n                        <img src=\"/images/redx.png\" alt=\"Sorry, not a Hot Dog\" />\n                        <div className=\"result-nothotdog\">Not Hot Dog!</div>\n                      </>\n                    ) : null}\n                  </div>\n                </div>\n              )}\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <h1>Choose an Image!</h1>\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <div className=\"flex justify-center gap-4 mt-6\">\n                {predefinedImages.map(img => (\n                  <img\n                    key={img.label}\n                    src={img.src}\n                    alt={img.label}\n                    className=\"mythumbs h-[100px] object-cover cursor-pointer\"\n                    onClick={() => handlePredefinedClick(img.src)}\n                  />\n                ))}\n              </div>\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <h1>Or try your own!</h1>\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <input type=\"file\" onChange={handleFileChange} className=\"mb-4\" />&nbsp;\n            </td>\n          </tr>\n        </tbody>\n      </table>\n\n      {isLoading && (\n        <div className=\"centered-overlay\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          style={{ width: '32px', height: '32px', animation: 'spin 1s linear infinite' }}\n        >\n          <circle\n            cx=\"12\"\n            cy=\"12\"\n            r=\"10\"\n            stroke=\"currentColor\"\n            strokeWidth=\"4\"\n            style={{ opacity: 0.85 }}\n          />\n          <path\n            fill=\"currentColor\"\n            d=\"M4 12a8 8 0 018-8v8H4z\"\n            style={{ opacity: 0.95 }}\n          />\n        </svg>\n      </div>\n      \n      )}\n\n      <style>{`\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      `}</style>\n    </div>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,cAAe,SAAS,CAAAC,UAAUA,CAAA,CAAG,CACnC,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CACtD,KAAM,CAACa,UAAU,CAAEC,aAAa,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAClD,KAAM,CAACe,MAAM,CAAEC,SAAS,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CAC1C,KAAM,CAACiB,SAAS,CAAEC,YAAY,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CAEjD,KAAM,CAAAmB,gBAAgB,CAAIC,KAAK,EAAK,CAClC,KAAM,CAAAC,IAAI,CAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAClCX,eAAe,CAACS,IAAI,CAAC,CACrBP,aAAa,CAACU,GAAG,CAACC,eAAe,CAACJ,IAAI,CAAC,CAAC,CACxCL,SAAS,CAAC,IAAI,CAAC,CACjB,CAAC,CAED,KAAM,CAAAU,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI,CAACf,YAAY,CAAE,OACnBO,YAAY,CAAC,IAAI,CAAC,CAClB,KAAM,CAAAS,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,CAAElB,YAAY,CAAC,CAEtC,GAAI,CACF,KAAM,CAAAmB,GAAG,CAAG,KAAM,CAAA3B,KAAK,CAAC4B,IAAI,CAAC,uCAAuC,CAAEJ,QAAQ,CAAC,CAC/EX,SAAS,CAACc,GAAG,CAACE,IAAI,CAACjB,MAAM,CAAC,CAC5B,CAAE,MAAOkB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CACtB,CAAC,OAAS,CACRf,YAAY,CAAC,KAAK,CAAC,CACrB,CACF,CAAC,CAED,KAAM,CAAAiB,gBAAgB,CAAG,CACvB,CAAEC,KAAK,CAAE,SAAS,CAAEC,GAAG,CAAE,oBAAqB,CAAC,CAC/C,CAAED,KAAK,CAAE,QAAQ,CAAEC,GAAG,CAAE,oBAAqB,CAAC,CAC9C,CAAED,KAAK,CAAE,KAAK,CAAEC,GAAG,CAAE,iBAAkB,CAAC,CACxC,CAAED,KAAK,CAAE,UAAU,CAAEC,GAAG,CAAE,sBAAuB,CAAC,CACnD,CAED,KAAM,CAAAC,qBAAqB,CAAIC,SAAS,EAAK,CAC3CC,KAAK,CAACD,SAAS,CAAC,CACbE,IAAI,CAAEX,GAAG,EAAKA,GAAG,CAACY,IAAI,CAAC,CAAC,CAAC,CACzBD,IAAI,CAAEC,IAAI,EAAK,CACd,KAAM,CAAArB,IAAI,CAAG,GAAI,CAAAsB,IAAI,CAAC,CAACD,IAAI,CAAC,CAAEH,SAAS,CAACK,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAAC,CAAE,CAAEC,IAAI,CAAEJ,IAAI,CAACI,IAAK,CAAC,CAAC,CAC9ElC,eAAe,CAACS,IAAI,CAAC,CACrBP,aAAa,CAACU,GAAG,CAACC,eAAe,CAACiB,IAAI,CAAC,CAAC,CACxC1B,SAAS,CAAC,IAAI,CAAC,CACjB,CAAC,CAAC,CACN,CAAC,CAED;AACAf,SAAS,CAAC,IAAM,CACd,GAAIc,MAAM,GAAK,SAAS,CAAE,CACxB,KAAM,CAAAgC,SAAS,CAAG,GAAI,CAAAC,KAAK,CAAC,kBAAkB,CAAC,CAC/CD,SAAS,CAACE,IAAI,CAAC,CAAC,CAClB,CAAC,IAAM,IAAIlC,MAAM,GAAK,aAAa,CAAE,CACnC,KAAM,CAAAmC,WAAW,CAAG,GAAI,CAAAF,KAAK,CAAC,oBAAoB,CAAC,CACnDE,WAAW,CAACD,IAAI,CAAC,CAAC,CACpB,CACF,CAAC,CAAE,CAAClC,MAAM,CAAC,CAAC,CAEZ,mBACEN,KAAA,QAAK0C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB/C,IAAA,UAAOgD,MAAM,CAAE,CAAE,CAACC,KAAK,CAAC,QAAQ,CAAAF,QAAA,cAC9B3C,KAAA,UAAA2C,QAAA,eACE/C,IAAA,OAAA+C,QAAA,cACE/C,IAAA,OAAI8C,SAAS,CAAC,WAAW,CAAAC,QAAA,CACtBvC,UAAU,eACTJ,KAAA,QAAA2C,QAAA,eACE/C,IAAA,QACEiD,KAAK,CAAC,QAAQ,CACdjB,GAAG,CAAExB,UAAW,CAChB0C,GAAG,CAAC,SAAS,CACbJ,SAAS,CAAC,8BAA8B,CACxCK,KAAK,CAAE,CAAEC,QAAQ,CAAE,OAAO,CAACC,aAAa,CAAE,MAAO,CAAE,CACpD,CAAC,cAAArD,IAAA,QAAK,CAAC,cACRA,IAAA,WACEsD,OAAO,CAAEjC,iBAAkB,CAC3ByB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC1B,0BAED,CAAQ,CAAC,cACT/C,IAAA,QAAK8C,SAAS,CAAC,SAAS,CAAAC,QAAA,CACrBrC,MAAM,GAAK,SAAS,cACnBN,KAAA,CAAAF,SAAA,EAAA6C,QAAA,eACE/C,IAAA,QAAKgC,GAAG,CAAC,uBAAuB,CAACkB,GAAG,CAAC,sBAAsB,CAAE,CAAC,cAC9DlD,IAAA,QAAK8C,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,YAAU,CAAK,CAAC,EAC/C,CAAC,CACDrC,MAAM,GAAK,aAAa,cAC1BN,KAAA,CAAAF,SAAA,EAAA6C,QAAA,eACE/C,IAAA,QAAKgC,GAAG,CAAC,kBAAkB,CAACkB,GAAG,CAAC,sBAAsB,CAAE,CAAC,cACzDlD,IAAA,QAAK8C,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,cAAY,CAAK,CAAC,EACpD,CAAC,CACD,IAAI,CACL,CAAC,EACH,CACN,CACC,CAAC,CACH,CAAC,cACL/C,IAAA,OAAA+C,QAAA,cACE/C,IAAA,OAAA+C,QAAA,cACE/C,IAAA,OAAA+C,QAAA,CAAI,kBAAgB,CAAI,CAAC,CACvB,CAAC,CACH,CAAC,cACL/C,IAAA,OAAA+C,QAAA,cACE/C,IAAA,OAAA+C,QAAA,cACE/C,IAAA,QAAK8C,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAC5CjB,gBAAgB,CAACyB,GAAG,CAACC,GAAG,eACvBxD,IAAA,QAEEgC,GAAG,CAAEwB,GAAG,CAACxB,GAAI,CACbkB,GAAG,CAAEM,GAAG,CAACzB,KAAM,CACfe,SAAS,CAAC,gDAAgD,CAC1DQ,OAAO,CAAEA,CAAA,GAAMrB,qBAAqB,CAACuB,GAAG,CAACxB,GAAG,CAAE,EAJzCwB,GAAG,CAACzB,KAKV,CACF,CAAC,CACC,CAAC,CACJ,CAAC,CACH,CAAC,cACL/B,IAAA,OAAA+C,QAAA,cACE/C,IAAA,OAAA+C,QAAA,cACE/C,IAAA,OAAA+C,QAAA,CAAI,kBAAgB,CAAI,CAAC,CACvB,CAAC,CACH,CAAC,cACL/C,IAAA,OAAA+C,QAAA,cACE3C,KAAA,OAAA2C,QAAA,eACE/C,IAAA,UAAOyC,IAAI,CAAC,MAAM,CAACgB,QAAQ,CAAE3C,gBAAiB,CAACgC,SAAS,CAAC,MAAM,CAAE,CAAC,OACpE,EAAI,CAAC,CACH,CAAC,EACA,CAAC,CACH,CAAC,CAEPlC,SAAS,eACRZ,IAAA,QAAK8C,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cACjC3C,KAAA,QACEsD,KAAK,CAAC,4BAA4B,CAClCC,IAAI,CAAC,MAAM,CACXC,OAAO,CAAC,WAAW,CACnBT,KAAK,CAAE,CAAEU,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CAAEC,SAAS,CAAE,yBAA0B,CAAE,CAAAhB,QAAA,eAE/E/C,IAAA,WACEgE,EAAE,CAAC,IAAI,CACPC,EAAE,CAAC,IAAI,CACPC,CAAC,CAAC,IAAI,CACNC,MAAM,CAAC,cAAc,CACrBC,WAAW,CAAC,GAAG,CACfjB,KAAK,CAAE,CAAEkB,OAAO,CAAE,IAAK,CAAE,CAC1B,CAAC,cACFrE,IAAA,SACE2D,IAAI,CAAC,cAAc,CACnBW,CAAC,CAAC,wBAAwB,CAC1BnB,KAAK,CAAE,CAAEkB,OAAO,CAAE,IAAK,CAAE,CAC1B,CAAC,EACC,CAAC,CACH,CAEJ,cAEDrE,IAAA,UAAA+C,QAAA,CAAQ;AACd;AACA;AACA;AACA;AACA,OAAO,CAAQ,CAAC,EACP,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}